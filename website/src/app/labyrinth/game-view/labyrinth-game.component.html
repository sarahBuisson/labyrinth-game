<div class="title">
<pre>
  Lab generator
</pre>
  <div class="menuBar">
    <app-ascii-button class="button asciiArt ihm-ui" ><a href="./menu" class="interact-ui">menu</a></app-ascii-button>
    <app-ascii-button class="button asciiArt ihm-ui"><a href="./character" class="interact-ui">characterEditor</a></app-ascii-button>
    <app-ascii-button class="button asciiArt ihm-ui"><a href="./new" class="interact-ui">new Labyrinth</a></app-ascii-button>
  </div>
</div>
<div class="noPartyMessage" *ngIf="!currentPartyProxy">
  <div ascii-div class="text interact-ui" >no game loaded for the moment, please wait or create a new game
    <app-ascii-button class="ihm-ui"><a  class="interact-ui" href="./new">new game</a></app-ascii-button>
  </div>
</div>
<div class="container" *ngIf="currentPartyProxy">

  <div class="mainArea">
    <level-view [currentPartie]="currentPartyProxy"
                [rangeArroundPlayer]="1"
                [characterRenderData]="currentCharacterRenderData"
    ></level-view>
  </div>
  <div class="sidebar">
    <app-sliding
      [openData]="{position:'absolute',

      transform: 'translateX(-50%)',
      left:'50%'}"
      [closeData]="{position:'absolute',
           transform: 'translateX(-80px)',
       left:'100%'}"
      [onlyOnClick]="true"
      style="background-color:red; overflow: hidden;"
    >
      <map-view [currentPartieProxy]="currentPartyProxy"
                [renderService]="mapRenderService"
      ></map-view>
    </app-sliding>
  </div>
  <div class="toolbar">
    <div class="gameplay">
    <keypad-form></keypad-form>
    </div>
    <app-ascii class="character">{{fullViewRenderService.renderPlayer(this.currentCharacterRenderData)}}</app-ascii>
    <div class="inventoryArea">
      <app-sliding
        onlyOnClick="true"
        [openData]="{top:'50%', transform:'translateY(-50%)', position:'absolute'}"
        [closeData]="{top:'100%', transform:'translateY(-40px)', position:'absolute'}"
      >
        <inventory-view [player]="this.currentPartyProxy.player"></inventory-view>
      </app-sliding>
    </div>
  </div>
  <app-ascii-modal #winModal class="text">
    <div ascii-div cl> YOU WIN !</div>
    <app-ascii class="character">
      {{fullViewRenderService.renderPlayer(this.currentCharacterRenderData)}}
    </app-ascii>
    <app-ascii>{{fullViewRenderService.renderObj({name: 'exit'}, undefined)}}</app-ascii>

    <div ascii-div xRepeat="40">
      <div>total size:{{this.score.size}}</div>
      <div>total number of room:{{this.score.numberOfRooms}}</div>
      <div>minimum solution:{{this.score.solutionLength}} m</div>
      <div>total number of wrong exit:{{this.score.numberOfCulDeSac}}</div>
      <div>total walked distance:{{this.score.numberOfSteps}} m</div>
      <div> </div>
      <div>total score:{{this.score.score}}</div>
    </div>
    <div ascii-div (click)="nextLevel()">next level</div>
  </app-ascii-modal>


</div>
